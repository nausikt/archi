<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Quickstart - Archi Docs</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Quickstart";
        var mkdocs_page_input_path = "quickstart.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Archi Docs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../install/">Install</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Quickstart</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#sources-and-services">Sources and Services</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#pipelines">Pipelines</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#secrets">Secrets</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#creating-an-archi-deployment-with-ollama">Creating an Archi Deployment with Ollama</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#verifying-a-deployment">Verifying a deployment</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#next-steps">Next Steps</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../user_guide/">User Guide</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../data_sources/">Data Sources</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../services/">Services</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../models_providers/">Models & Providers</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../agents_tools/">Agents & Tools</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../configuration/">Configuration</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../cli_reference/">CLI Reference</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../api_reference/">API Reference</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../benchmarking/">Benchmarking</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../advanced_setup_deploy/">Advanced Setup</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../developer_guide/">Developer Guide</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../troubleshooting/">Troubleshooting</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Archi Docs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Quickstart</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/archi-physics/archi/edit/master/docs/quickstart.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="quickstart">Quickstart</h1>
<p>Deploy your first instance of Archi and walk through the important concepts.</p>
<h2 id="sources-and-services">Sources and Services</h2>
<p>Archi can ingest data from a variety of <strong>sources</strong> and supports several <strong>services</strong>. List them with the CLI command below and decide which ones you want to use so that we can configure them.</p>
<pre><code class="language-bash">archi list-services
</code></pre>
<p>Example output:</p>
<pre><code>Available Archi services:

Application Services:
  chatbot              Interactive chat interface for users to communicate with the AI agent
  grafana              Monitoring dashboard for system and LLM performance metrics
  uploader             Admin interface for uploading and managing documents
  grader               Automated grading service for assignments with web interface

Integration Services:
  piazza               Integration service for Piazza posts and Slack notifications
  mattermost           Integration service for Mattermost channels
  redmine-mailer       Email processing and Cleo/Redmine ticket management

Data Sources:
  git                 Git repository scraping for MkDocs-based documentation
  jira                Jira issue tracking integration
  redmine             Redmine ticket integration
  sso                 SSO-backed web crawling
</code></pre>
<p>See the <a href="../user_guide/">User Guide</a> for detailed information about each service and source.</p>
<h2 id="pipelines">Pipelines</h2>
<p>Archi supports several pipelines (agentic and not). The active agent class is configured per service, and the agent prompt/tools are defined in agent markdown files.</p>
<p>Example agent spec file (<code>examples/agents/default.md</code>):</p>
<pre><code class="language-markdown">---
name: CMS CompOps Default
tools:
  - search_local_files
  - search_metadata_index
  - list_metadata_schema
  - fetch_catalog_document
  - search_vectorstore_hybrid
---

You are a CMS CompOps assistant.
Use tools to gather evidence before answering, and keep responses concise.
</code></pre>
<h2 id="configuration">Configuration</h2>
<p>Once you have chosen the services, sources, and agent class you want to use, create a configuration file that specifies their settings. You can start from one of the example configuration files under <code>examples/deployments/</code>, or create your own from scratch. This file sets parameters; the selected services and sources are determined at deployment time.</p>
<blockquote>
<p><strong>Important:</strong> The configuration file follows the format of <code>src/cli/templates/base-config.yaml</code>. Any fields not specified in your configuration will be populated with the defaults from this template.</p>
</blockquote>
<p>Example configuration for the <code>chatbot</code> service using a local Ollama model and agent specs from <code>services.chat_app.agents_dir</code>:</p>
<pre><code class="language-yaml">name: my_archi

services:
  chat_app:
    agent_class: CMSCompOpsAgent
    agents_dir: examples/agents
    default_provider: local
    default_model: llama3.2
    providers:
      local:
        base_url: http://localhost:11434
        mode: ollama
        models:
          - llama3.2
    trained_on: &quot;My data&quot;
    hostname: &quot;&lt;your-hostname&gt;&quot;
  vectorstore:
    backend: postgres  # Uses PostgreSQL with pgvector (default)

data_manager:
  sources:
    links:
      visible: true          # include scraped pages in the chat citations
      input_lists:
        - examples/deployments/basic-gpu/miscellanea.list
  embedding_name: HuggingFaceEmbeddings
  chunk_size: 1000
</code></pre>
<p>Agent specs are Markdown files (see <code>examples/agents/</code>) with YAML frontmatter for <code>name</code> and <code>tools</code>, and the prompt in the Markdown body.</p>
<blockquote>
<p><strong>Using OpenAI, Anthropic, Gemini, OpenRouter, or a non-Ollama local server?</strong> This quickstart uses Ollama for the first deployment path. For provider-specific startup snippets (including required secrets and config), see <a href="../models_providers/#quick-start-by-provider">Models &amp; Providers</a>.</p>
</blockquote>
<details markdown="1">
<summary>Explanation of configuration parameters</summary>

- `name`: Name of your Archi deployment.
- `data_manager`: Settings related to data ingestion and the vector store.
- `data_manager.sources.links.input_lists`: Lists of URLs to seed the deployment.
- `data_manager.sources.<source>.visible`: Controls whether content from a given source is surfaced to end users (defaults to `true`).
- `data_manager.embedding_name`: Embedding model used for vectorization.
- `data_manager.chunk_size`: Controls how documents are split prior to embedding.
- `services`: Settings for individual services/interfaces.
- `services.chat_app.agent_class`: Agent class to run (pipeline class name).
- `services.chat_app.agents_dir`: Local path to agent markdown files (copied into the deployment).
- `services.chat_app.default_provider` and `services.chat_app.default_model`: Default provider/model for chat when no UI override is set.
- `services.chat_app.providers.local`: Ollama/local provider configuration.
- `services.chat_app`: Chat interface configuration, including hostname and descriptive metadata.
- `services.vectorstore.backend`: Vector store backend (`postgres` with pgvector).

</details>

<h2 id="secrets">Secrets</h2>
<p>Secrets are sensitive values (passwords, API keys, etc.) that should not be stored directly in code or configuration files. Store them in a single <code>.env</code> file on your filesystem.</p>
<p>Minimal deployments (chatbot with open-source LLM and embeddings) require:</p>
<ul>
<li><code>PG_PASSWORD</code>: password used to secure the database.</li>
</ul>
<p>Create the secrets file with:</p>
<pre><code class="language-bash">echo &quot;PG_PASSWORD=my_strong_password&quot; &gt; ~/.secrets.env
</code></pre>
<p>If you are not using open-source models, supply the relevant API credentials:</p>
<ul>
<li><code>OPENAI_API_KEY</code>: OpenAI API key.</li>
<li><code>OPENROUTER_API_KEY</code>: OpenRouter API key.</li>
<li><code>OPENROUTER_SITE_URL</code>: Optional site URL for OpenRouter attribution.</li>
<li><code>OPENROUTER_APP_NAME</code>: Optional app name for OpenRouter attribution.</li>
<li><code>ANTHROPIC_API_KEY</code>: Anthropic API key.</li>
<li><code>GOOGLE_API_KEY</code>: Google Gemini API key.</li>
<li><code>HUGGINGFACEHUB_API_TOKEN</code>: HuggingFace access token (for private models or embeddings).</li>
</ul>
<p>Other services may require additional secrets; see the <a href="../user_guide/">User Guide</a> for details.</p>
<h2 id="creating-an-archi-deployment-with-ollama">Creating an Archi Deployment with Ollama</h2>
<p>Create your deployment with the CLI. A deployment with a local Ollama model (make sure you specify in the <code>config.yaml</code> the URL of your Ollama instance):</p>
<pre><code class="language-bash">archi create --name my-archi \
  --config examples/deployments/basic-ollama/config.yaml \
  --podman \
  --env-file .secrets.env \
  --services chatbot
</code></pre>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--name</code> / <code>-n</code></td>
<td>Deployment name</td>
</tr>
<tr>
<td><code>--config</code> / <code>-c</code></td>
<td>Path to configuration file</td>
</tr>
<tr>
<td><code>--env-file</code> / <code>-e</code></td>
<td>Path to the secrets <code>.env</code> file</td>
</tr>
<tr>
<td><code>--services</code> / <code>-s</code></td>
<td>Comma-separated services to deploy</td>
</tr>
<tr>
<td><code>--podman</code></td>
<td>Use Podman instead of Docker</td>
</tr>
</tbody>
</table>
<p>Agent specs are loaded from <code>services.chat_app.agents_dir</code> in the config.</p>
<details>
<summary>Example output</summary>


<pre><code class="language-bash">archi create --name my-archi --config examples/deployments/basic-ollama/config.yaml --podman --env-file .secrets.env --services chatbot
</code></pre>



<pre><code>Starting Archi deployment process...
[archi] Creating deployment 'my-archi' with services: chatbot
[archi] Auto-enabling dependencies: postgres
[archi] Configuration validated successfully
[archi] You are using an embedding model from HuggingFace; make sure to include a HuggingFace token if required for usage, it won't be explicitly enforced
[archi] Required secrets validated: PG_PASSWORD
[archi] Volume 'archi-pg-my-archi' already exists. No action needed.
[archi] Volume 'archi-my-archi' already exists. No action needed.
[archi] Starting compose deployment from /path/to/my/.archi/archi-my-archi
[archi] Using compose file: /path/to/my/.archi/archi-my-archi/compose.yaml
[archi] (This might take a minute...)
[archi] Deployment started successfully
Archi deployment 'my-archi' created successfully!
Services running: chatbot, postgres
[archi] Chatbot: http://localhost:7861
</code></pre>


</details>

<p>The first deployment builds the container images from scratch (which may take a few minutes). Subsequent deployments reuse the images and complete much faster (roughly a minute).</p>
<blockquote>
<p><strong>Tip:</strong> Having issues? Run the command with <code>-v 4</code> to enable DEBUG-level logging.</p>
</blockquote>
<h3 id="verifying-a-deployment">Verifying a deployment</h3>
<p>Run these checks after <code>archi create</code>:</p>
<p><strong>Step 1: Confirm deployment registration</strong></p>
<pre><code class="language-bash">archi list-deployments
</code></pre>
<p>You should see your deployment name (for example <code>my-archi</code>).</p>
<p><strong>Step 2: Confirm services are running with your container runtime</strong></p>
<pre><code class="language-bash">podman ps
# or: docker ps
</code></pre>
<p>You should see containers for at least <code>chatbot</code> and <code>postgres</code>.</p>
<p><strong>Step 3: Open the chat app URL printed by the CLI (default <code>http://localhost:7861</code>) and verify the UI loads.</strong></p>
<hr />
<h2 id="next-steps">Next Steps</h2>
<p>Once your deployment is running:</p>
<ul>
<li><strong>Chat UI</strong>: Open <code>http://localhost:7861</code> in your browser to start chatting.</li>
<li><strong>Data Viewer</strong>: Navigate to the <code>/data</code> page in the chat UI to browse ingested documents.</li>
<li><strong>Upload Documents</strong>: If you deployed the <code>uploader</code> service, access the upload interface at its configured port.</li>
</ul>
<p>From here, explore the rest of the documentation:</p>
<ul>
<li><a href="../user_guide/">User Guide</a> — overview of all capabilities</li>
<li><a href="../agents_tools/">Agents &amp; Tools</a> — customize agent behavior and prompts</li>
<li><a href="../models_providers/">Models &amp; Providers</a> — switch to cloud LLMs (OpenAI, Anthropic, Gemini)</li>
<li><a href="../configuration/">Configuration Reference</a> — full YAML config schema</li>
<li><a href="../cli_reference/">CLI Reference</a> — all CLI commands and options</li>
<li><a href="../troubleshooting/">Troubleshooting</a> — common issues and fixes</li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../install/" class="btn btn-neutral float-left" title="Install"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../user_guide/" class="btn btn-neutral float-right" title="User Guide">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/archi-physics/archi" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../install/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../user_guide/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
